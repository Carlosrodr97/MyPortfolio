---
import { Image } from "astro:assets";

const { title, date, description, link } = Astro.props;

const screenShot = `https://api.microlink.io/?url=${link}&screenshot=true&embed=screenshot.url`;
---

<div
  class="group bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300"
>
  <div class="relative overflow-hidden">
    <Image
      src={screenShot}
      alt={`Vista previa del proyecto ${title}`}
      class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-110"
      width="600"
      height="300"
      loading="lazy"
      decoding="async"
      format="webp"
    />
    <div
      class="absolute inset-0 bg-gradient-to-t from-slate-900/80 to-transparent lg:opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end"
    >
      <div class="p-4">
        <a
          href={link}
          target="_blank"
          rel="noopener noreferrer"
          class="px-4 py-2 bg-blue-500 text-white rounded-lg inline-block hover:bg-blue-600 transition-colors"
        >
          Ver Proyecto
        </a>
      </div>
    </div>
  </div>
  <div class="p-6">
    <span class="flex justify-between text-lg font-bold mb-2">
      <h3 class="text-slate-900">{title}</h3>
      <p class="text-slate-500">{date}</p>
    </span>
    <p class="text-slate-600 mb-4">{description}</p>
    <div class="flex flex-wrap gap-2">
      <slot />
    </div>
  </div>
</div>
